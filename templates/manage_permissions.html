<!-- manage_permissions.html -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯Ù…Ù†Ø§Øª</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
        }
        .admin-header {
            text-align: center;
            color: #0d6efd;
        }
        .top-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        .add-admin-btn {
            font-size: 1.1rem;
            padding: 10px 20px;
        }
    </style>
</head>
<body class="bg-light">

<div class="container py-5">
    <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
    <h2 class="admin-header mb-3">ğŸ› ï¸ Ø¥Ø¯Ø§Ø±Ø© ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ù…Ù†Ø§Øª</h2>

    <!-- Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ ÙˆØ²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© -->
    <div class="top-buttons">
        <a href="{{ url_for('super_admin_dashboard') }}" class="btn btn-secondary">ğŸ”™ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
        <a href="{{ url_for('add_admin') }}" class="btn btn-success add-admin-btn">â• Ø¥Ø¶Ø§ÙØ© Ø£Ø¯Ù…Ù† Ø¬Ø¯ÙŠØ¯</a>
    </div>

    <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ÙÙ„Ø§Ø´ -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
      {% endfor %}
    {% endwith %}

    <!-- ÙƒØ§Ø±Ø¯ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙˆÙ„ -->
    <div class="card shadow">
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered table-hover text-center align-middle">
                    <thead class="table-dark">
                        <tr>
                            <th>Ø§Ù„Ø§Ø³Ù…</th>
                            <th>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</th> <!-- âœ… Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
                            <th>Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª</th>
                            <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for admin in admins %}
                        <tr>
                            <td>{{ admin.username }}</td>
                            <td>{{ admin.password }}</td> <!-- âœ… Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ -->
                            <td class="text-start">
                                    {% if admin.can_upload_excel %}ğŸ§¾ Ø±ÙØ¹ Ù…Ù„Ù Ø¥ÙƒØ³Ù„<br>{% endif %}
    {% if admin.can_export %}ğŸ“¤ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª<br>{% endif %}
    {% if admin.can_upload_results %}ğŸ“¥ Ø±ÙØ¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬<br>{% endif %}
    {% if admin.can_delete_all_students %}ğŸ—‘ï¸ Ø­Ø°Ù ÙƒÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨<br>{% endif %}
    {% if admin.can_edit_limits %}âš™ï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø¯ÙˆØ¯<br>{% endif %}
    {% if admin.can_manage_dates %}ğŸ“… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯<br>{% endif %}
    {% if admin.can_manage_permissions %}ğŸ‘®â€â™‚ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª<br>{% endif %}
    {% if admin.can_edit_student %}âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨<br>{% endif %}
    {% if admin.can_delete_student %}ğŸ—‘ï¸ Ø­Ø°Ù Ø·Ø§Ù„Ø¨<br>{% endif %}
    {% if admin.can_print_student %}ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨<br>{% endif %}
</td>
                            <td>
<a href="{{ url_for('edit_admin', admin_id=admin.id) }}" class="edit-btn">âœï¸ ØªØ¹Ø¯ÙŠÙ„</a>

<form action="{{ url_for('delete_admin', admin_id=admin.id) }}" method="POST" style="display:inline;">
    <button type="submit" class="delete-btn" onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø£Ø¯Ù…Ù†ØŸ')">ğŸ—‘ï¸ Ø­Ø°Ù</button>
</form>

<style>
    /* ØªØ¹Ø¯ÙŠÙ„ ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø²Ø± "ØªØ¹Ø¯ÙŠÙ„" */
    .edit-btn {
        display: inline-block;
        padding: 8px 16px;
        background-color: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        text-align: center;
        font-size: 16px;
    }

    .edit-btn:hover {
        background-color: #0056b3;
    }

    /* ØªØ¹Ø¯ÙŠÙ„ ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø²Ø± "Ø­Ø°Ù" */
    .delete-btn {
        padding: 8px 16px;
        background-color: #dc3545;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
    }

    .delete-btn:hover {
        background-color: #c82333;
    }
</style>


                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

</body>
</html>
