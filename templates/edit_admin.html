<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>{{ 'ØªØ¹Ø¯ÙŠÙ„ Ø£Ø¯Ù…Ù†' if admin else 'Ø¥Ø¶Ø§ÙØ© Ø£Ø¯Ù…Ù†' }}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f8f9fa;
        }
        .form-container {
            max-width: 600px;
            margin: 40px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body>

<div class="container form-container">
    <h2 class="text-center text-primary mb-4">
        {{ 'âœï¸ ØªØ¹Ø¯ÙŠÙ„ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ù…Ù†' if admin else 'â• Ø¥Ø¶Ø§ÙØ© Ø£Ø¯Ù…Ù† Ø¬Ø¯ÙŠØ¯' }}
    </h2>

    <form method="POST">
        {% if admin %}
        <div class="mb-3">
            <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
            <input type="text" name="username" class="form-control" value="{{ admin.username }}" required>
        </div>
        <div class="mb-3">
            <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
            <input type="password" name="password" class="form-control">
            <small class="form-text text-muted">Ø§ØªØ±Ùƒ Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ ÙØ§Ø±ØºÙ‹Ø§ Ø¥Ø°Ø§ Ù„Ù… ØªØ±ØºØ¨ ÙÙŠ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±.</small>
        </div>
        {% else %}
        <div class="mb-3">
            <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
            <input type="text" name="username" class="form-control" required>
        </div>
        <div class="mb-3">
            <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
            <input type="password" name="password" class="form-control" required>
        </div>
        {% endif %}

        <h5 class="mt-4 mb-3">Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª:</h5>
        {% set permissions_ar = {
            'can_upload_excel': 'ğŸ“¥ Ø±ÙØ¹ Ù…Ù„Ù Ø¥ÙƒØ³Ù„',
            'can_export': 'ğŸ“‚ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
            'can_upload_results': 'ğŸ“¤ Ø±ÙØ¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬',
            'can_delete_all_students': 'ğŸ—‘ï¸ Ø­Ø°Ù ÙƒÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨',
            'can_edit_limits': 'âš™ï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø¯ÙˆØ¯',
            'can_manage_dates': 'ğŸ—“ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯',
            'can_manage_permissions': 'ğŸ› ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª',
            'can_edit_student': 'âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨',
            'can_delete_student': 'ğŸ—‘ï¸ Ø­Ø°Ù Ø·Ø§Ù„Ø¨',
            'can_print_student': 'ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨'
        } %}

        {% for perm, label in permissions_ar.items() %}
        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" name="{{ perm }}" id="{{ perm }}"
                   {% if admin and admin[perm] %}checked{% endif %}>
            <label class="form-check-label" for="{{ perm }}">{{ label }}</label>
        </div>
        {% endfor %}

        <div class="d-flex justify-content-between mt-4">
            <a href="{{ url_for('manage_permissions') }}" class="btn btn-secondary">â†©ï¸ Ø±Ø¬ÙˆØ¹</a>
            <button type="submit" class="btn btn-primary">ğŸ’¾ Ø­ÙØ¸</button>
        </div>
    </form>
</div>

</body>
</html>
